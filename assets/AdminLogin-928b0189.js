import{h as m,i as d,j as _,_ as p,m as u,r as a,o as f,k as h,w as b,a as e,b as s}from"./index-565d9491.js";const{VITE_PATH:y,VITE_API:v}={VITE_API:"https://vue3-course-api.hexschool.io/v2/",VITE_PATH:"sophiee22",BASE_URL:"/vue-live-week6/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},g=m("adminLoginStore",{actions:{onsubmit(o){d.post(`${v}admin/signin`,o).then(t=>{const{token:n,expired:r}=t.data;document.cookie=`week6Token=${n};expires=${new Date(r)}`,_.push("/admin")}).catch(t=>{console.log("無法登入")})}}}),x={methods:{...u(g,["onsubmit"])}},E=e("h1",{class:"text-center mb-5"},"請先登入",-1),w={class:"mb-3"},k=e("label",{for:"loginName",class:"form-label"},"Email address",-1),S={class:"mb-3"},A=e("label",{for:"loginEmail",class:"form-label"},"Password",-1),P=e("div",{class:"d-flex justify-content-end"},[e("button",{class:"btn btn-primary"},"登入")],-1);function T(o,t,n,r,V,$){const i=a("v-field"),c=a("v-err-msg"),l=a("v-form");return f(),h(l,{class:"mt-5 mx-5",onSubmit:o.onsubmit},{default:b(()=>[E,e("div",w,[k,s(i,{name:"username",class:"form-control",placeholder:"Email address",id:"loginName",rules:"required|email",type:"email"}),s(c,{name:"username",class:"text-danger"})]),e("div",S,[A,s(i,{name:"password",class:"form-control",placeholder:"Password",id:"loginEmail",rules:"required",type:"password"}),s(c,{name:"password",class:"text-danger"})]),P]),_:1},8,["onSubmit"])}const B=p(x,[["render",T]]);export{B as default};
