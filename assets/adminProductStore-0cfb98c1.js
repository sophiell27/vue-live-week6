import{h as a,i as t,j as c}from"./index-5daa02cc.js";const{VITE_PATH:u,VITE_API:i}={VITE_API:"https://vue3-course-api.hexschool.io/v2/",VITE_PATH:"sophiee22",BASE_URL:"/vue-live-week6/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},p=a("adminPageStore",{actions:{logout(){t.post(`${i}logout`).then(o=>{alert("登出成功"),c.push("/")}).catch(o=>{console.log("登出失敗")})}}}),{VITE_PATH:r,VITE_API:s}={VITE_API:"https://vue3-course-api.hexschool.io/v2/",VITE_PATH:"sophiee22",BASE_URL:"/vue-live-week6/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},d=a("adminProductStore",{state:()=>({products:[],pagination:{}}),actions:{async checkLogin(){const o=document.cookie.replace(/(?:(?:^|.*;\s*)week6Token\s*\=\s*([^;]*).*$)|^.*$/,"$1");t.defaults.headers.common.Authorization=o;try{const e=await t.post(`${s}api/user/check`);console.log("驗證成功!")}catch{confirm("請先登入"),c.push("/Admin-login")}},async getProducts(o=1){try{const e=await t.get(`${s}api/${r}/admin/products/?page=${o}`);this.products=e.data.products,this.pagination=e.data.pagination}catch{confirm("無法取得產品列表")}}}});export{d as a,p as b};
