import{h as a,i as t,j as c}from"./index-565d9491.js";const{VITE_PATH:u,VITE_API:i}={VITE_API:"https://vue3-course-api.hexschool.io/v2/",VITE_PATH:"sophiee22",BASE_URL:"/vue-live-week6/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},p=a("adminPageStore",{actions:{logout(){t.post(`${i}logout`).then(e=>{alert("登出成功"),c.push("/")}).catch(e=>{console.log("登出失敗")})}}}),{VITE_PATH:r,VITE_API:s}={VITE_API:"https://vue3-course-api.hexschool.io/v2/",VITE_PATH:"sophiee22",BASE_URL:"/vue-live-week6/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},d=a("adminProductStore",{state:()=>({products:[],pagination:{}}),actions:{async checkLogin(){const e=document.cookie.replace(/(?:(?:^|.*;\s*)week6Token\s*\=\s*([^;]*).*$)|^.*$/,"$1");t.defaults.headers.common.Authorization=e;try{const o=await t.post(`${s}api/user/check`);console.log("驗證成功!")}catch{confirm("請先登入"),c.push("/Admin-login")}},async getProducts(e=1){try{const o=await t.get(`${s}api/${r}/admin/products/?page=${e}`);this.products=o.data.products,this.pagination=o.data.pagination}catch(o){confirm("無法取得產品列表"),console.log(o)}}}});export{d as a,p as b};
